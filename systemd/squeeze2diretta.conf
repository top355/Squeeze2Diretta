# squeeze2diretta Configuration
#
# This file is sourced by the systemd service unit.
# Modify these values to change behavior.
#
# After changing values, restart the service:
#   sudo systemctl restart squeeze2diretta

# ============================================================================
# REQUIRED SETTINGS - You MUST configure these
# ============================================================================

# LMS (Lyrion Music Server) IP address
# This is the server running LMS that has your music library
LMS_SERVER=192.168.1.100

# Diretta target number
# Run: /opt/squeeze2diretta/squeeze2diretta --list-targets
# to see available targets and their numbers
TARGET=1

# ============================================================================
# OPTIONAL SETTINGS
# ============================================================================

# Player name (shown in LMS web interface)
PLAYER_NAME=squeeze2diretta

# Maximum sample rate in Hz
# Common values: 192000, 384000, 768000
MAX_SAMPLE_RATE=768000

# DSD output format
# For LMS (Lyrion Music Server): u32be (native DSD, recommended)
# For Roon: dop (DoP mode, required due to Squeezebox emulation limitations)
# Valid values: u32be, u32le, dop
DSD_FORMAT=u32be

# PCM sample format (bit depth)
# Set to 24 for DACs that don't support 32-bit PCM
# Valid values: 16, 24, 32
SAMPLE_FORMAT=32

# Pause on start
# Set to "yes" to pause playback when the service starts
# This prevents music from auto-resuming after a reboot
# Leave empty or "no" for normal LMS behavior (resume playback)
PAUSE_ON_START=no

# WAV/AIFF header parsing
# Set to "yes" to read format from WAV/AIFF headers instead of server parameters
# May help with format detection issues on some setups
# Note: May cause stuttering with DSD128+ content
WAV_HEADER=no

# Log verbosity
# Options:
#   ""    - Normal output (INFO level, default)
#   "-v"  - Debug logs (all messages)
#   "-q"  - Warnings and errors only
VERBOSE=""

# Extra options to pass to squeeze2diretta
# Example: EXTRA_OPTS="-d all=info"
EXTRA_OPTS=""

# ============================================================================
# TROUBLESHOOTING
# ============================================================================
#
# Problem: No sound
# Solution: Check LMS_SERVER IP is correct and reachable
#           Check TARGET number matches your Diretta device
#
# Problem: DSD files play as noise
# Solution: Check that your DAC supports native DSD
#           Try different DSD_FORMAT values (u32be, u32le, dop)
#
# Problem: Using Roon instead of LMS
# Solution: Set DSD_FORMAT=dop (Roon sends DoP, not native DSD)
#
# Problem: Player not showing in LMS
# Solution: Check firewall allows ports 3483 and 9000
#           Verify LMS server is running
#
# For more help: https://github.com/cometdom/squeeze2diretta
